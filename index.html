<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pemilihan Ketua Organisasi Intra Madrasah</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e5799;
            --secondary: #207cca;
            --accent: #e74c3c;
            --success: #2ecc71;
            --light: #f5f9fc;
            --dark: #2c3e50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--primary);
            font-size: 2rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .admin-info {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            border-left: 5px solid var(--accent);
        }
        
        .admin-info h3 {
            color: var(--dark);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .admin-info p {
            margin-bottom: 8px;
            color: #555;
        }
        
        .organizations {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .org-card {
            background-color: white;
            border-radius: 12px;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .org-card.selected {
            transform: translateY(-8px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
            border: 3px solid var(--secondary);
        }
        
        .org-card:hover:not(.selected) {
            transform: translateY(-5px);
            box-shadow: 0 10px 18px rgba(0, 0, 0, 0.12);
        }
        
        .org-icon {
            width: 70px;
            height: 70px;
            margin: 0 auto 15px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: white;
        }
        
        .pmr { background-color: #e74c3c; }
        .gls { background-color: #2ecc71; }
        .lds { background-color: #9b59b6; }
        .sispala { background-color: #e67e22; }
        
        .org-card h3 {
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .org-card p {
            color: #7f8c8d;
            font-size: 0.95rem;
        }
        
        .form-section {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            margin: 40px 0;
        }
        
        .section-title {
            color: var(--dark);
            border-bottom: 3px solid var(--secondary);
            padding-bottom: 12px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: var(--secondary);
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .radio-group {
            display: flex;
            gap: 30px;
            margin-top: 10px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .radio-option input {
            width: auto;
        }
        
        .photo-preview {
            width: 150px;
            height: 180px;
            border: 2px dashed #ddd;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
            overflow: hidden;
            background-color: #f9f9f9;
        }
        
        .photo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }
        
        .photo-preview i {
            font-size: 2.5rem;
            color: #aaa;
            margin-bottom: 10px;
        }
        
        .btn-submit {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: block;
            margin: 40px auto 0;
        }
        
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(52, 152, 219, 0.3);
        }
        
        .send-method {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid #e1e8ed;
        }
        
        .send-method h4 {
            margin-bottom: 20px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .method-options {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .method-option {
            flex: 1;
            min-width: 200px;
        }
        
        .method-option label {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            border: 2px solid #e1e8ed;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .method-option label:hover {
            border-color: var(--secondary);
        }
        
        .method-option input:checked + label {
            border-color: var(--secondary);
            background-color: #e8f4fc;
        }
        
        .method-option input {
            display: none;
        }
        
        .method-icon {
            font-size: 1.5rem;
            color: var(--secondary);
        }
        
        .method-details {
            margin-top: 15px;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #e1e8ed;
            display: none;
        }
        
        .method-details.active {
            display: block;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
        }
        
        .modal-content h3 {
            color: var(--dark);
            margin-bottom: 15px;
        }
        
        .modal-content p {
            margin-bottom: 20px;
            color: #555;
        }
        
        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
        }
        
        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary);
        }
        
        .btn-secondary {
            background-color: #ecf0f1;
            color: var(--dark);
        }
        
        .btn-secondary:hover {
            background-color: #d5dbdb;
        }
        
        .whatsapp-link, .email-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 15px;
        }
        
        .whatsapp-link {
            background-color: #25D366;
            color: white;
        }
        
        .whatsapp-link:hover {
            background-color: #128C7E;
        }
        
        .email-link {
            background-color: #EA4335;
            color: white;
        }
        
        .email-link:hover {
            background-color: #D14836;
        }
        
        .data-preview {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid #e1e8ed;
            display: none;
        }
        
        .data-preview h4 {
            margin-bottom: 15px;
            color: var(--dark);
        }
        
        .preview-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
            font-family: monospace;
            white-space: pre-wrap;
            font-size: 0.9rem;
        }
        
        footer {
            background-color: var(--dark);
            color: #ecf0f1;
            text-align: center;
            padding: 25px;
            margin-top: 40px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .footer-links a {
            color: var(--secondary);
            text-decoration: none;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        .selected-org {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 5px solid var(--secondary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .selected-org i {
            color: var(--secondary);
            font-size: 1.2rem;
        }
        
        @media (max-width: 768px) {
            .organizations {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .radio-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .method-options {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .modal-buttons {
                flex-direction: column;
            }
        }
        
        .required {
            color: var(--accent);
        }
        
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 5px solid var(--success);
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-vote-yea"></i>
            </div>
            <div>
                <h1>Pemilihan Ketua Organisasi Intra Madrasah</h1>
                <p class="tagline">Daftarkan diri Anda sebagai calon ketua atau wakil ketua organisasi. Data akan dikirim ke admin untuk verifikasi.</p>
            </div>
        </div>
    </header>
    
    <div class="container">
        <div class="admin-info">
            <h3><i class="fas fa-user-shield"></i> Informasi Admin</h3>
            <p><strong>Admin Pemilihan:</strong> Panitia Pemilihan Organisasi Madrasah</p>
            <p><strong>Email Admin:</strong> admin.pemilihan@madrasah.sch.id</p>
            <p><strong>WhatsApp Admin:</strong> +62 812-3456-7890</p>
            <p>Setelah mengisi formulir, data Anda akan diverifikasi oleh admin sebelum ditampilkan sebagai calon resmi.</p>
        </div>
        
        <section class="organizations" id="orgSelection">
            <h2 class="section-title" style="grid-column: 1/-1;"><i class="fas fa-sitemap"></i> Pilih Organisasi yang Ingin Anda Pimpin</h2>
            
            <div class="org-card" data-org="pmr">
                <div class="org-icon pmr">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <h3>PMR (Palang Merah Remaja)</h3>
                <p>Organisasi yang bergerak di bidang kesehatan dan kemanusiaan</p>
            </div>
            
            <div class="org-card" data-org="gls">
                <div class="org-icon gls">
                    <i class="fas fa-book-reader"></i>
                </div>
                <h3>GLS (Gerakan Literasi Sekolah)</h3>
                <p>Organisasi yang mempromosikan budaya membaca dan menulis</p>
            </div>
            
            <div class="org-card" data-org="lds">
                <div class="org-icon lds">
                    <i class="fas fa-mosque"></i>
                </div>
                <h3>LDS (Lembaga Dakwah Sekolah)</h3>
                <p>Organisasi yang mengembangkan kegiatan keagamaan Islam</p>
            </div>
            
            <div class="org-card" data-org="sispala">
                <div class="org-icon sispala">
                    <i class="fas fa-mountain"></i>
                </div>
                <h3>SISPALA (Siswa Pecinta Alam)</h3>
                <p>Organisasi yang peduli terhadap lingkungan dan petualangan alam</p>
            </div>
        </section>
        
        <section class="form-section">
            <h2 class="section-title"><i class="fas fa-edit"></i> Form Pendaftaran Calon Ketua/Wakil Organisasi</h2>
            
            <div class="selected-org" id="selectedOrgDisplay">
                <i class="fas fa-info-circle"></i>
                <span>Silakan pilih organisasi di atas terlebih dahulu</span>
            </div>
            
            <form id="candidateForm">
                <h3 class="section-title"><i class="fas fa-user-edit"></i> Data Pribadi Calon</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="fullName">Nama Lengkap <span class="required">*</span></label>
                        <input type="text" id="fullName" name="fullName" required placeholder="Masukkan nama lengkap">
                    </div>
                    
                    <div class="form-group">
                        <label for="nickName">Nama Panggilan <span class="required">*</span></label>
                        <input type="text" id="nickName" name="nickName" required placeholder="Masukkan nama panggilan">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nisn">NISN <span class="required">*</span></label>
                        <input type="text" id="nisn" name="nisn" required placeholder="Contoh: 0038123456">
                    </div>
                    
                    <div class="form-group">
                        <label for="birthPlace">Tempat Lahir <span class="required">*</span></label>
                        <input type="text" id="birthPlace" name="birthPlace" required placeholder="Contoh: Jakarta">
                    </div>
                    
                    <div class="form-group">
                        <label for="birthDate">Tanggal Lahir <span class="required">*</span></label>
                        <input type="date" id="birthDate" name="birthDate" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="class">Kelas <span class="required">*</span></label>
                        <select id="class" name="class" required>
                            <option value="">Pilih Kelas</option>
                            <option value="X IPA 1">X IPA 1</option>
                            <option value="X IPA 2">X IPA 2</option>
                            <option value="X IPS 1">X IPS 1</option>
                            <option value="X IPS 2">X IPS 2</option>
                            <option value="XI IPA 1">XI IPA 1</option>
                            <option value="XI IPA 2">XI IPA 2</option>
                            <option value="XI IPS 1">XI IPS 1</option>
                            <option value="XI IPS 2">XI IPS 2</option>
                            <option value="XII IPA 1">XII IPA 1</option>
                            <option value="XII IPA 2">XII IPA 2</option>
                            <option value="XII IPS 1">XII IPS 1</option>
                            <option value="XII IPS 2">XII IPS 2</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Nomor HP/WhatsApp <span class="required">*</span></label>
                        <input type="tel" id="phone" name="phone" required placeholder="Contoh: 081234567890">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="address">Alamat Lengkap <span class="required">*</span></label>
                    <textarea id="address" name="address" rows="3" required placeholder="Masukkan alamat lengkap"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="instagram">Akun Instagram</label>
                        <input type="text" id="instagram" name="instagram" placeholder="Contoh: @namaakun">
                    </div>
                    
                    <div class="form-group">
                        <label for="twitter">Akun Twitter</label>
                        <input type="text" id="twitter" name="twitter" placeholder="Contoh: @namaakun">
                    </div>
                    
                    <div class="form-group">
                        <label for="tiktok">Akun TikTok</label>
                        <input type="text" id="tiktok" name="tiktok" placeholder="Contoh: @namaakun">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="experience">Pengalaman Organisasi <span class="required">*</span></label>
                    <textarea id="experience" name="experience" rows="4" required placeholder="Jelaskan pengalaman organisasi yang pernah diikuti (nama organisasi, jabatan, durasi)"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="motto">Motto Hidup <span class="required">*</span></label>
                    <input type="text" id="motto" name="motto" required placeholder="Contoh: Melayani dengan hati, mengabdi dengan tulus">
                </div>
                
                <div class="form-group">
                    <label>Mencalonkan Diri Sebagai <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="positionKetua" name="position" value="ketua" required>
                            <label for="positionKetua">Ketua Organisasi</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="positionWakil" name="position" value="wakil" required>
                            <label for="positionWakil">Wakil Ketua Organisasi</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="reason">Alasan Mencalonkan Diri <span class="required">*</span></label>
                    <textarea id="reason" name="reason" rows="5" required placeholder="Jelaskan alasan Anda mencalonkan diri sebagai ketua/wakil organisasi"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="photo">Pas Foto (Format: JPG/PNG, Maks: 2MB) <span class="required">*</span></label>
                    <input type="file" id="photo" name="photo" accept="image/*" required>
                    <div class="photo-preview" id="photoPreview">
                        <i class="fas fa-user-circle"></i>
                        <span>Pratinjau foto akan muncul di sini</span>
                        <img id="previewImage" src="" alt="Pratinjau Foto">
                    </div>
                </div>
                
                <div class="send-method">
                    <h4><i class="fas fa-paper-plane"></i> Metode Pengiriman Data ke Admin</h4>
                    <div class="method-options">
                        <div class="method-option">
                            <input type="radio" id="methodWhatsApp" name="sendMethod" value="whatsapp" checked>
                            <label for="methodWhatsApp">
                                <span class="method-icon"><i class="fab fa-whatsapp"></i></span>
                                <span>Kirim via WhatsApp</span>
                            </label>
                        </div>
                        <div class="method-option">
                            <input type="radio" id="methodEmail" name="sendMethod" value="email">
                            <label for="methodEmail">
                                <span class="method-icon"><i class="fas fa-envelope"></i></span>
                                <span>Kirim via Email</span>
                            </label>
                        </div>
                        <div class="method-option">
                            <input type="radio" id="methodBoth" name="sendMethod" value="both">
                            <label for="methodBoth">
                                <span class="method-icon"><i class="fas fa-share-alt"></i></span>
                                <span>Kirim via Keduanya</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="method-details" id="whatsappDetails">
                        <p><strong>Data akan dikirim ke WhatsApp Admin:</strong> +62 812-3456-7890</p>
                        <p>Pastikan nomor WhatsApp Anda aktif untuk konfirmasi dari admin.</p>
                    </div>
                    
                    <div class="method-details" id="emailDetails">
                        <p><strong>Data akan dikirim ke Email Admin:</strong> admin.pemilihan@madrasah.sch.id</p>
                        <p>Anda akan menerima email konfirmasi setelah data diterima.</p>
                    </div>
                    
                    <div class="method-details" id="bothDetails">
                        <p><strong>Data akan dikirim ke WhatsApp dan Email Admin.</strong></p>
                        <p>Anda akan menerima konfirmasi melalui WhatsApp dan email setelah data diterima.</p>
                    </div>
                </div>
                
                <div class="data-preview" id="dataPreview">
                    <h4><i class="fas fa-eye"></i> Pratinjau Data yang Akan Dikirim</h4>
                    <div class="preview-content" id="previewContent">
                        Data akan muncul di sini...
                    </div>
                </div>
                
                <button type="button" class="btn btn-secondary" id="previewBtn" style="margin-top: 20px;">
                    <i class="fas fa-eye"></i> Pratinjau Data
                </button>
                
                <button type="submit" class="btn-submit">
                    <i class="fas fa-paper-plane"></i> Kirim Pendaftaran ke Admin
                </button>
            </form>
        </section>
    </div>
    
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div style="font-size: 4rem; color: #2ecc71; margin-bottom: 20px;">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3>Pendaftaran Berhasil!</h3>
            <p>Data calon ketua/wakil organisasi telah berhasil dikirim ke admin.</p>
            <p>Admin akan menghubungi Anda untuk verifikasi dalam 1-2 hari kerja.</p>
            
            <div style="margin-top: 25px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                <p><strong>Langkah Selanjutnya:</strong></p>
                <ol style="text-align: left; margin-left: 20px; margin-top: 10px;">
                    <li>Tunggu konfirmasi dari admin via WhatsApp/Email</li>
                    <li>Persiapkan dokumen pendukung jika diperlukan</li>
                    <li>Ikuti proses seleksi berikutnya</li>
                </ol>
            </div>
            
            <div class="modal-buttons">
                <button class="btn btn-primary" id="closeModalBtn">
                    <i class="fas fa-check"></i> Mengerti
                </button>
                <button class="btn btn-secondary" id="newFormBtn">
                    <i class="fas fa-plus"></i> Daftarkan Calon Lain
                </button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="sendModal">
        <div class="modal-content">
            <h3>Kirim Data ke Admin</h3>
            <p>Pilih metode pengiriman data yang Anda inginkan:</p>
            
            <div style="margin: 25px 0;">
                <a href="#" class="whatsapp-link" id="whatsappSendBtn">
                    <i class="fab fa-whatsapp"></i> Kirim via WhatsApp
                </a>
                <a href="#" class="email-link" id="emailSendBtn">
                    <i class="fas fa-envelope"></i> Kirim via Email
                </a>
            </div>
            
            <p style="font-size: 0.9rem; color: #777; margin-top: 20px;">
                <i class="fas fa-info-circle"></i> Data akan dikirim ke admin untuk diverifikasi.
            </p>
            
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="cancelSendBtn">
                    <i class="fas fa-times"></i> Batal
                </button>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Â© 2023 Panitia Pemilihan Ketua Organisasi Intra Madrasah. Semua hak dilindungi.</p>
        <div class="footer-links">
            <a href="#"><i class="fas fa-info-circle"></i> Tentang</a>
            <a href="#"><i class="fas fa-envelope"></i> Kontak Admin</a>
            <a href="#"><i class="fas fa-file-alt"></i> Panduan Pendaftaran</a>
        </div>
        <p style="margin-top: 20px; font-size: 0.9rem;">Madrasah Aliyah Negeri 2 Jakarta</p>
    </footer>
    
    <script>
        // Data organisasi
        const orgData = {
            pmr: {
                name: 'PMR (Palang Merah Remaja)',
                desc: 'Organisasi yang bergerak di bidang kesehatan dan kemanusiaan',
                color: '#e74c3c'
            },
            gls: {
                name: 'GLS (Gerakan Literasi Sekolah)',
                desc: 'Organisasi yang mempromosikan budaya membaca dan menulis',
                color: '#2ecc71'
            },
            lds: {
                name: 'LDS (Lembaga Dakwah Sekolah)',
                desc: 'Organisasi yang mengembangkan kegiatan keagamaan Islam',
                color: '#9b59b6'
            },
            sispala: {
                name: 'SISPALA (Siswa Pecinta Alam)',
                desc: 'Organisasi yang peduli terhadap lingkungan dan petualangan alam',
                color: '#e67e22'
            }
        };
        
        // Variabel untuk menyimpan organisasi yang dipilih
        let selectedOrg = null;
        
        // Fungsi untuk memilih organisasi
        document.querySelectorAll('.org-card').forEach(card => {
            card.addEventListener('click', function() {
                // Hapus class selected dari semua kartu
                document.querySelectorAll('.org-card').forEach(c => {
                    c.classList.remove('selected');
                });
                
                // Tambah class selected ke kartu yang diklik
                this.classList.add('selected');
                
                // Simpan organisasi yang dipilih
                selectedOrg = this.getAttribute('data-org');
                
                // Tampilkan organisasi yang dipilih
                const orgInfo = orgData[selectedOrg];
                document.getElementById('selectedOrgDisplay').innerHTML = `
                    <i class="fas fa-check-circle"></i>
                    <span>Anda memilih: <strong>${orgInfo.name}</strong> - ${orgInfo.desc}</span>
                `;
                document.getElementById('selectedOrgDisplay').style.borderLeftColor = orgInfo.color;
            });
        });
        
        // Fungsi untuk pratinjau foto
        document.getElementById('photo').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('previewImage');
            const previewContainer = document.getElementById('photoPreview');
            
            if (file) {
                // Validasi ukuran file (maks 2MB)
                if (file.size > 2 * 1024 * 1024) {
                    alert('Ukuran file terlalu besar! Maksimal 2MB.');
                    this.value = '';
                    return;
                }
                
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    previewContainer.querySelector('i').style.display = 'none';
                    previewContainer.querySelector('span').style.display = 'none';
                }
                
                reader.readAsDataURL(file);
            } else {
                preview.src = '';
                preview.style.display = 'none';
                previewContainer.querySelector('i').style.display = 'block';
                previewContainer.querySelector('span').style.display = 'block';
            }
        });
        
        // Tangani perubahan metode pengiriman
        document.querySelectorAll('input[name="sendMethod"]').forEach(radio => {
            radio.addEventListener('change', function() {
                // Sembunyikan semua detail metode
                document.querySelectorAll('.method-details').forEach(detail => {
                    detail.classList.remove('active');
                });
                
                // Tampilkan detail metode yang dipilih
                const method = this.value;
                document.getElementById(method + 'Details').classList.add('active');
            });
        });
        
        // Set default method details
        document.getElementById('whatsappDetails').classList.add('active');
        
        // Set tanggal minimum dan maksimum untuk input tanggal lahir
        const today = new Date();
        const minDate = new Date();
        minDate.setFullYear(today.getFullYear() - 20);
        const maxDate = new Date();
        maxDate.setFullYear(today.getFullYear() - 15);
        
        document.getElementById('birthDate').min = minDate.toISOString().split('T')[0];
        document.getElementById('birthDate').max = maxDate.toISOString().split('T')[0];
        
        // Set default tanggal lahir (17 tahun yang lalu)
        const defaultDate = new Date();
        defaultDate.setFullYear(today.getFullYear() - 17);
        document.getElementById('birthDate').value = defaultDate.toISOString().split('T')[0];
        
        // Fungsi untuk pratinjau data
        document.getElementById('previewBtn').addEventListener('click', function() {
            if (!validateForm(true)) return;
            
            const formData = getFormData();
            const previewText = formatDataForPreview(formData);
            
            document.getElementById('previewContent').textContent = previewText;
            document.getElementById('dataPreview').style.display = 'block';
            
            // Scroll ke pratinjau
            document.getElementById('dataPreview').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Fungsi untuk validasi form
        function validateForm(isPreview = false) {
            // Validasi: pastikan organisasi sudah dipilih
            if (!selectedOrg) {
                alert('Silakan pilih organisasi terlebih dahulu!');
                document.getElementById('orgSelection').scrollIntoView({ behavior: 'smooth' });
                return false;
            }
            
            // Validasi form
            const requiredFields = ['fullName', 'nickName', 'nisn', 'birthPlace', 'birthDate', 'class', 'phone', 'address', 'experience', 'motto', 'reason'];
            let isValid = true;
            let firstInvalidField = null;
            
            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    isValid = false;
                    if (!firstInvalidField) firstInvalidField = field;
                    field.style.borderColor = '#e74c3c';
                } else {
                    field.style.borderColor = '#ddd';
                }
            });
            
            // Validasi radio button position
            const positionSelected = document.querySelector('input[name="position"]:checked');
            if (!positionSelected) {
                isValid = false;
                alert('Silakan pilih posisi yang diinginkan (Ketua atau Wakil Ketua)');
            }
            
            // Validasi file foto
            const photoFile = document.getElementById('photo').files[0];
            if (!photoFile) {
                isValid = false;
                if (!isPreview) alert('Silakan unggah pas foto terlebih dahulu');
                document.getElementById('photo').style.borderColor = '#e74c3c';
            } else {
                document.getElementById('photo').style.borderColor = '#ddd';
            }
            
            if (!isValid && !isPreview) {
                alert('Harap lengkapi semua field yang wajib diisi!');
                if (firstInvalidField) {
                    firstInvalidField.focus();
                }
            }
            
            return isValid;
        }
        
        // Fungsi untuk mendapatkan data form
        function getFormData() {
            const position = document.querySelector('input[name="position"]:checked').value;
            const sendMethod = document.querySelector('input[name="sendMethod"]:checked').value;
            const photoFile = document.getElementById('photo').files[0];
            
            // Format tanggal lahir
            const birthDate = new Date(document.getElementById('birthDate').value);
            const formattedDate = birthDate.toLocaleDateString('id-ID', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            
            return {
                organization: orgData[selectedOrg].name,
                fullName: document.getElementById('fullName').value,
                nickName: document.getElementById('nickName').value,
                nisn: document.getElementById('nisn').value,
                birthPlace: document.getElementById('birthPlace').value,
                birthDate: formattedDate,
                class: document.getElementById('class').value,
                address: document.getElementById('address').value,
                phone: document.getElementById('phone').value,
                instagram: document.getElementById('instagram').value,
                twitter: document.getElementById('twitter').value,
                tiktok: document.getElementById('tiktok').value,
                experience: document.getElementById('experience').value,
                motto: document.getElementById('motto').value,
                position: position === 'ketua' ? 'Ketua Organisasi' : 'Wakil Ketua Organisasi',
                reason: document.getElementById('reason').value,
                sendMethod: sendMethod,
                photo: photoFile ? photoFile.name : 'Tidak ada foto'
            };
        }
        
        // Fungsi untuk format data pratinjau
        function formatDataForPreview(data) {
            return `DATA CALON KETUA/WAKIL ORGANISASI
========================================
ORGANISASI: ${data.organization}
POSISI: ${data.position}

DATA PRIBADI:
- Nama Lengkap: ${data.fullName}
- Nama Panggilan: ${data.nickName}
- NISN: ${data.nisn}
- Tempat/Tanggal Lahir: ${data.birthPlace}, ${data.birthDate}
- Kelas: ${data.class}
- Alamat: ${data.address}
- No. HP/WhatsApp: ${data.phone}

MEDIA SOSIAL:
- Instagram: ${data.instagram || '-'}
- Twitter: ${data.twitter || '-'}
- TikTok: ${data.tiktok || '-'}

PENGALAMAN ORGANISASI:
${data.experience}

MOTTO HIDUP: "${data.motto}"

ALASAN MENCALONKAN DIRI:
${data.reason}

FOTO: ${data.photo}
METODE PENGIRIMAN: ${data.sendMethod.toUpperCase()}

========================================
Data ini akan dikirim ke admin untuk verifikasi.`;
        }
        
        // Fungsi untuk format data WhatsApp
        function formatDataForWhatsApp(data) {
            return `*PENDAFTARAN CALON KETUA/WAKIL ORGANISASI*

*Organisasi:* ${data.organization}
*Posisi:* ${data.position}

*Data Pribadi:*
Nama Lengkap: ${data.fullName}
Nama Panggilan: ${data.nickName}
NISN: ${data.nisn}
TTL: ${data.birthPlace}, ${data.birthDate}
Kelas: ${data.class}
Alamat: ${data.address}
No. HP: ${data.phone}

*Media Sosial:*
Instagram: ${data.instagram || '-'}
Twitter: ${data.twitter || '-'}
TikTok: ${data.tiktok || '-'}

*Pengalaman Organisasi:*
${data.experience}

*Motto:* "${data.motto}"

*Alasan Mencalonkan Diri:*
${data.reason}

*Foto:* ${data.photo}

_Data ini dikirim melalui website pendaftaran._`;
        }
        
        // Fungsi untuk format data Email
        function formatDataForEmail(data) {
            return `PENDAFTARAN CALON KETUA/WAKIL ORGANISASI

Organisasi: ${data.organization}
Posisi: ${data.position}

DATA PRIBADI:
Nama Lengkap: ${data.fullName}
Nama Panggilan: ${data.nickName}
NISN: ${data.nisn}
TTL: ${data.birthPlace}, ${data.birthDate}
Kelas: ${data.class}
Alamat: ${data.address}
No. HP: ${data.phone}

MEDIA SOSIAL:
Instagram: ${data.instagram || '-'}
Twitter: ${data.twitter || '-'}
TikTok: ${data.tiktok || '-'}

PENGALAMAN ORGANISASI:
${data.experience}

MOTTO: "${data.motto}"

ALASAN MENCALONKAN DIRI:
${data.reason}

FOTO: ${data.photo}

---
Data ini dikirim melalui website pendaftaran.`;
        }
        
        // Tangani pengiriman form
        document.getElementById('candidateForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            // Validasi form
            if (!validateForm()) return;
            
            // Tampilkan modal pengiriman
            document.getElementById('sendModal').style.display = 'flex';
            
            // Setel tautan WhatsApp
            const formData = getFormData();
            const whatsappText = encodeURIComponent(formatDataForWhatsApp(formData));
            const adminWhatsApp = '+6281234567890'; // Ganti dengan nomor admin sebenarnya
            document.getElementById('whatsappSendBtn').href = `https://wa.me/${adminWhatsApp}?text=${whatsappText}`;
            
            // Setel tautan Email
            const emailSubject = encodeURIComponent(`Pendaftaran Calon ${formData.position} ${formData.organization}`);
            const emailBody = encodeURIComponent(formatDataForEmail(formData));
            const adminEmail = 'admin.pemilihan@madrasah.sch.id'; // Ganti dengan email admin sebenarnya
            document.getElementById('emailSendBtn').href = `mailto:${adminEmail}?subject=${emailSubject}&body=${emailBody}`;
        });
        
        // Tangani tombol di modal pengiriman
        document.getElementById('cancelSendBtn').addEventListener('click', function() {
            document.getElementById('sendModal').style.display = 'none';
        });
        
        document.getElementById('whatsappSendBtn').addEventListener('click', function(e) {
            // Simulasi pengiriman berhasil
            setTimeout(function() {
                document.getElementById('sendModal').style.display = 'none';
                document.getElementById('successModal').style.display = 'flex';
            }, 500);
        });
        
        document.getElementById('emailSendBtn').addEventListener('click', function(e) {
            // Simulasi pengiriman berhasil
            setTimeout(function() {
                document.getElementById('sendModal').style.display = 'none';
                document.getElementById('successModal').style.display = 'flex';
            }, 500);
        });
        
        // Tangani tombol di modal sukses
        document.getElementById('closeModalBtn').addEventListener('click', function() {
            document.getElementById('successModal').style.display = 'none';
            resetForm();
        });
        
        document.getElementById('newFormBtn').addEventListener('click', function() {
            document.getElementById('successModal').style.display = 'none';
            resetForm();
            document.getElementById('candidateForm').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Fungsi reset form
        function resetForm() {
            document.getElementById('candidateForm').reset();
            document.getElementById('selectedOrgDisplay').innerHTML = `
                <i class="fas fa-info-circle"></i>
                <span>Silakan pilih organisasi di atas terlebih dahulu</span>
            `;
            document.getElementById('selectedOrgDisplay').style.borderLeftColor = '#3498db';
            
            // Reset pilihan organisasi
            document.querySelectorAll('.org-card').forEach(c => {
                c.classList.remove('selected');
            });
            selectedOrg = null;
            
            // Reset pratinjau foto
            document.getElementById('photoPreview').querySelector('i').style.display = 'block';
            document.getElementById('photoPreview').querySelector('span').style.display = 'block';
            document.getElementById('previewImage').style.display = 'none';
            
            // Sembunyikan pratinjau data
            document.getElementById('dataPreview').style.display = 'none';
            
            // Reset tanggal lahir ke default
            const today = new Date();
            const defaultDate = new Date();
            defaultDate.setFullYear(today.getFullYear() - 17);
            document.getElementById('birthDate').value = defaultDate.toISOString().split('T')[0];
        }
    </script>
</body>
</html>